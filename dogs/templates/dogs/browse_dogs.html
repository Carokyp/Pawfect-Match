{% extends "base_auth.html" %}
{% load static %}

{% block title %}Discover{% endblock %}
{% block content_class %}form-page{% endblock %}

{% block content %}

<div class="discover-page">

  <!-- APP HEADER -->
  <header class="discover-header">
    <h1 class="app-logo">Pawfect Match</h1>
  </header>

  <!-- PROFILE CARD -->
  <div class="profile-card">

    <!-- TOGGLE -->
    <div class="profile-toggle">
      <button class="toggle-btn active">Dog</button>
      <button class="toggle-btn">Owner</button>
    </div>

    <!-- DOG VIEW -->
    <div class="profile-view dog-view">

      <div class="profile-image">
        {% if dog.profile_photo %}
        <img src="{{ dog.profile_photo.url }}" alt="Dog photo">
        {% else %}
        <img src="{% static 'images/dog_placeholder.jpg' %}" alt="Dog placeholder">
        {% endif %}
      </div>

      <div class="profile-main-info">
        <h2>{{ dog.name }}, {{ dog.age }}</h2>
        <p>{{ dog.breed }}</p>
        <p>{{ dog.owner.city }}</p>
      </div>

      <div class="profile-about">
        <h3>About me</h3>
        <p>{{ dog.about_me }}</p>
      </div>

      <div class="profile-tags">
        <span class="tag">{{ dog.energy_level }}</span>
        <span class="tag">{{ dog.size }}</span>
      </div>

    </div>

    <!-- OWNER VIEW (cachée pour l’instant) -->
    <div class="profile-view owner-view hidden">

      <div class="profile-image">
        {% if dog.owner.profile_photo %}
        <img src="{{ dog.owner.profile_photo.url }}" alt="Owner photo">
        {% else %}
        <img src="{% static 'images/owner_placeholder.jpg' %}" alt="Owner placeholder">
        {% endif %}
      </div>

      <div class="profile-main-info">
        <h2>{{ dog.owner.name }}, {{ dog.owner.age }}</h2>
        <p>{{ dog.owner.city }}</p>
      </div>

      <div class="profile-about">
        <h3>About me</h3>
        <p>{{ dog.owner.about_me }}</p>
      </div>

      <div class="profile-tags">
        {% for interest in dog.owner.interests_list %}
        <span class="tag">{{ interest }}</span>
        {% endfor %}
      </div>

    </div>

  </div>

  <!-- ACTION BUTTONS -->
  <div class="action-buttons">
    <button class="action-btn dislike">✕</button>
    <button class="action-btn like">❤</button>
  </div>

  <!-- BOTTOM NAV -->
  <nav class="bottom-nav">
    <a class="active">Discover</a>
    <a>Matches</a>
    <a>Profile</a>
  </nav>

</div>

{% endblock %}
